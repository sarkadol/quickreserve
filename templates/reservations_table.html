{% block content %}
<div class="container-md">
    <table id="reservation-table" class="table table-hover">
        <h1> reservations table </h1>

        <thead>
            <tr>
                <th>Unit / Time</th>
                {% for hour in hours %}
                <th>{{ hour|time:"H" }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>{% if units %}
            {% for unit in units %}
            <tr>
                <td>{{ unit.unit_name }}</td>
                {% for hour in hours %}
                <td>
                    {% with reservations=unit.reservation_slots.all %}
                    {% for slot in reservations %}
                    {% if slot.start_time <= hour and slot.end_time > hour %}
                        <div class="reserved-slot">Reserved</div>
                        {% else %}
                        <div class="available-slot">something</div>
                        {% endif %}
                        {% empty %}
                        <div class="available-slot">Available</div>
                        {% endfor %}
                        {% endwith %}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
            {% else %}
            <td>There are no units yet</td>
            {% endif %}
        </tbody>

    </table>


</div>
{% endblock %}